{% extends 'base.html' %}

{% block content %}

{% load static %}

<div class="row">
    <div class="col-lg-4 card-section">
        <div class="card border-secondary">
            <div class="card-body text-secondary">
                <h5 class="card-title text-center">Contents</h5>
                <hr/>
                {% if contents %}
                    {% for content in contents %}
                        <p class="card-text">
                            <span class="pull-left" style="padding-right: 10px;">
                                <img src="{% static 'img/anonymous.png' %}" height="20" class="rounded-circle"/>
                            </span>
                            <a href="{% url 'dashboard:content_update' pk=content.id %}">
                                <div class="truncate-text">{{content}}</div>
                            </a>
                        </p>
                    {% endfor %}
                {% else %}
                    You currently have no contents scheduled to be posted
                {% endif %}
            </div>
            <div class="card-footer megaphonely-bg text-center" onclick="location.href='{% url 'dashboard:content_add' %}';" style="cursor: pointer;">
                Create
            </div>
        </div>
    </div>
    <div class="col-lg-4 card-section">
        <div class="card border-secondary">
            <div class="card-header">
                <h5 class="text-center">Socials</h5>
            </div>
            <div class="card-body text-secondary">
                {% if socials %}
                    <div class="col-12">
                    {% for social in socials %}
                        <div class="row">
                            <div class="col-3">
                                <i class="fab fa-{{social.provider}}" style="width: 14px;"></i>
                                <img class="rounded-circle" src="{{social.picture_url}}" height="15"/>
                            </div>
                            <div class="col-7 truncate-text">
                                <a href="{{social.url}}">{{social.get_screen_name}}</a>
                            </div>
                            <div class="col-2">
                                <a class="float-right" href="{% url 'dashboard:social_disconnect' pk=social.id %}">
                                    <i class="fas fa-times" style="color: red"></i>
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                    </div>
                {% else %}
                    You currently have not connected any social networks.
                    You'll need to connect atleast one before you can post contents
                {% endif %}
            </div>
            <div class="card-footer twitter-bg text-center" onclick="location.href='{% url 'social:begin' backend='twitter' %}';" style="cursor: pointer;">
                Connect Twitter
            </div>
            <div class="card-footer facebook-bg text-center" onclick="location.href='{% url 'social:begin' backend='facebook' %}';" style="cursor: pointer;">
                Connect Facebook
            </div>
            <div class="card-footer linkedin-bg text-center" onclick="location.href='{% url 'social:begin' backend='linkedin-oauth2' %}';" style="cursor: pointer;">
                Connect LinkedIn
            </div>
        </div>
    </div>
    <div class="col-lg-4 card-section">
        <div class="card border-secondary">
            <div class="card-body text-secondary" onclick="location.href='{% url 'accounts:profile_update' pk=user.id %}';" style="cursor: pointer;">
                <h5 class="card-title text-center">Settings</h5>
                <hr/>
                <p class="card-text text-center">
                    You are on a <b>Free Plan</b>
                </p>
            </div>
        </div>
    </div>
</div>

{% endblock %}
